---
title: 拷问
date: 2023-07-23 22:48:52
tags:
- 个人总结
categories:
- 面经
---

针对C++后端/鸡架面试题汇总，感谢贡献面经的大家；数据库我不太熟可能搜集的是偏内核的题目

# 系统/并行/并发

1. 操作系统页面置换算法
2. 缺页中断，为什么有页表
3. 进程和线程区别和联系
4. python里面的线程和java里面的线程有什么不一样？（与C++线程有啥不一样？）
5. 什么是线程安全？
6. 时间片是什么
7. 死锁产生的条件；设计一种通用性算法，怎么检测一个死锁；
8. 增加CPU的数量，会对CPU密集型或IO密集型的任务性能处理有提升吗
9. 消息队列作用、为什么要引入；MQ消息丢失问题 
10. 说说ThreadLocal
11. 多线程wait notify join
12. 操作系统里面分配内存和管理内存，怎么做的
13. 用户态和内核态 切换的主要开销在哪里
14. 零拷贝
15. 缓存穿透\击穿\雪崩场景解释，缓存穿透解决方法
16. 同步IO和异步IO的区别，阻塞IO和非阻塞IO的区别，是否存在同步非阻塞IO
17. 线程切换的时候上下文保存哪些东西
18. 协程、线程、进程切换的开销分别是什么
19. write的用户态内核态操作，数据要拷贝到内核态吗，如果突然宕机了会有没写的吗？怎么刷新缓冲区呢？这块系统调用是什么呢？
20. 进程通信方式
21. 服务器多线程如何防止数据冲突
22. 用户态和内核态是什么？区别
23. CPU多级缓存，为什么这么设计
24. 分页机制

## Linux

1. 根据关键字在日志里查找，用cat和grep
2.  grep查找前边的十行，用什么参数
3. Linux 句柄文件
4. 内存泄漏，用过哪些调试工具，怎么定位内存泄漏，设置静态变量怎么保证线程安全
5. git底层
6. 是否用过linux，常用命令
7. 讲讲 fork() 函数

# 网络

1. 负载均衡机制，负载均衡算法
2. 计网分层模型
3. 介绍一下IP/TCP的每一层，以及每一层常见的协议
4. 当我在浏览器上输入美团的招聘网站，直到页面出现，中间的流程是怎么样的
5. 讲一讲RDMA技术的优势
   讲一讲RDMA WRITE操作的细节
   RDMA为什么要注册一块内存
   RDMA相对于TCP/UDP的集中类型（四种）
   RDMA相对于TCP/UDP的性能有没有测过（这个需要测？）
   这块内存会swap到磁盘上吗（这个我不会 我回答的是我们一般开大页）
6. 了解哪些开源的rpc框架，grpc的特点，http2跟http1的区别，udp和tcp的区别，队头阻塞是什么
7. zookeeper的作用，怎么做负载均衡基于什么理论，部署zookeeper集群对网络和机房的要求
8. kafka：如果leader挂了，怎么恢复任务，怎么保证数据最终一致性
9. DNS 协议的详细流程
10. 物理层有什么协议
11. 数据链路层 CSMA/CD 协议
12. 讲讲 ping
13. 网络层有什么协议？IP/ARP/ICMP
14. 在同一个子网里头，如何获取主机的 MAC 地址（或者说不知道 MAC 地址，是怎么转发的）
15. 写 socket 的时候，用到了哪些函数？
16. epoll 的数据结构
17. traceroute 的原理
18. tcpdump
19. 服务器与客户端为什么不是同时断开连接

## Http

1. https和http，https加密的过程；https为什么不是只用非对称加密，非对称加密如何实现
2.  CLOSE_WAIT是什么？你说服务器上出现closewait，那么客户端上会出现closewait吗
3. 协程 HTTP长连接、短连接
4. 对于文件上传问了挺多问题的
   - WebSocket 底层应该是 TCP (具体了解)
   - 当时有没有调研和对比其他方案，很可能已经有类似的实现了（并不是多么特有的功能）
   - 对象存储这边能不能断点续传？应该是支持的，拿到 TOS 这边已经上传的分片信息；前端拿到文件的元信息，然后重新上传，并跳过已经上传的分片
5. 讲讲HTTP 3
6. cookie 和 session 的对比

## TCP/UDP/QUIC

1. 三次握手；为什么需要第三次的ACK应答；
2. 四次挥手，各个状态，time_wait和close_wait在挥手的哪个阶段；四次挥手大量的time_wait状态是有哪些可能的原因
3. tcp/udp区别
4. UDP的包有大小限制，是UDP协议自己的限制的吗？（是下层的IP协议的IP包大小限制）TCP没有限制吗？
5. TCP、UDP中的报文头有哪些字段
6. UDP怎么在应用层做一些可靠性保证
7. TCP拥塞控制
8. TCP流量控制
9. TCP为啥是可靠的？咋保证的呢？
10. 第三次握手没有了会发生什么问题
11. 心跳探测
12. TCP 为什么要三次握手，而不是两次握手
13. 四次挥手为什么多一次

# C++/STL/算法

1. 哈希如何实现的；哈希的时间空间复杂度，解决冲突的方式
2. hash表原理，扩容，什么时候扩容，扩多大；开链法如果链表很长，你有什么解决方法
3. 说下hashmap插入一个节点的过程 ；
4. concurrent hashmap C++怎么实现；
5. 加锁导致性能下降，有什么解决办法？ 加了读写锁性能还是不够，有什么方法？读写公平锁怎么做的？
6. 哈希算法有几种、一次性哈希、如何判断这个哈希算法优秀
7. map unordered_map底层实现
   怎么删除map里面index是偶数的kv
   unordered_map 哈希表 具体实现;
   unordered_map怎么扩容？以及vector 怎么扩容 vector初始化的时候预备空间(就是reserve指定的玩意)大小
8. 多态、重载（编译时还是运行时）、重写、泛型
9. 继承封装多态是什么？
10. 快速排序的特点 什么情况下复杂度高；什么是稳定排序 什么是不稳定排序
11. 数组和链表的区别
12. JVM 内存划分--->C++ 程序的内存划分和生命周期（类的成员变量和方法是放在哪里的）
13. LSM vs. B+Tree；为什么B+树要把数据都放在叶子节点；这种存储相对于B树有啥优点
14. 反射机制以及应用；泛型机制以及应用
15. 类的双亲委派模型
16. 怎么看区别一个类和别的类（类加载器+全类名）
17. ACID解释一下
18. 线程池参数；线程池的关闭；线程的关闭；wait/sleep的区别；核心线程数一般是多少？线程池任务调度是怎么样的
19. 如果用红黑树，红黑树适合什么场景，他的复杂度是多少
20.  C++20的协程了解过吗
21. 如果让你在C++写一个线程池，你会怎么写； 线程池里的线程执行任务之后直接就退出了，怎么保证还能持续从任务队列里面拿任务
22. 什么是 CAS，什么是自旋；
23. C++内存屏障
    C++ mutex lock需要陷入内核态吗
    讲一讲shared_ptr unique_ptr
    哪一个快，shared_ptr是线程安全的吗；
24. dfs和bfs的区别；一棵瘦高的树用dfs还是bfs
25. LRU怎么实现
26. 内存2g 磁盘500g 文件大小20g 每行一个数字 怎么对文件排序
27. 悲观锁和乐观锁
28. 类加载过程

#  数据库

1. 说一说mysql的索引，为什么使用B+树（跟B树和hash比）
2. redis的数据结构
3. redis的string怎么实现的，二进制的结构是什么样子的（没回答上来）
4. 介绍下ES，ES是做什么的，ES为什么能从doc中快速查找
5. mysql主键和非主键区别
6. 2pc提交
7. MapReduce原理；怎么手写
8. mysql的火山模型
9. mysql左连接 内连接
10. 两个表，A左连接B，建立索引怎么高效
11. ACID解释一下；各个隔离性级别和实现；事务的隔离级别，哪一个隔离级别解决了脏读、幻读
12. 二级索引解释一下；主索引/辅助索引；
13. Mysql有哪些存储引擎；InnoDB和MyIsam的区别
14. 聚簇索引
15. 表有字段姓名 性别 年龄 班级 该怎么建立索引提高查找效率
16. mvcc机制
17. 写个sql,今日消费最多的前10个人
18. 说说 MySQL 索引（B-Tree索引、哈希索引、R-Tree索引、全文索引等等）
19. 数据一致性检验

# 设计模式

1. 了解的设计模式，有哪些讲下策略模式
2. 单例
3. 懒汉饿汉模式讲一下

# 算法题

1. 二叉树的右视图
2. 岛屿数量
3. k个一组反转链表，自己处理输入输出
4. 输出有效括号对
5. 两个大整数相加；字符串给出的两个大整数相加 返回字符串
6. 0或1组成的数组，最多允许你把k个0变成1，求变换后数组最长连续1的个数
   nums = [0 1 1 0 0 0 1] k = 2
7. 一堆工作1-5-3-2-1 k工人 最短完成时间
8. m * n的二维矩阵，行列有序，找到第k个大的数。
9. 小顶堆插入数字的调整，用数组实现一下
10. 归并排序
11. 走格子，上下左右走，14,23=1+4+2+3=10超过阈值k=8的走不到，问能走到多少格子
12. topk
13. 一个字符串找出里面出现最多的一个字符
14. 约瑟夫环，报数123
15. 合并区间
16. 实现对一个数开平方
17. 反转链表
    反转k个链表
18. 给二叉树的中序序列和后序序列，求前序序列
19. 有向图找环
20. 去除数组中的重复数字
21. 下一个更大元素 II
22. 将点分十进制表示的IPv4地址（本质上是一个32位二进制数）转化为一个十进制数（难崩 实操中我是用chatgpt+python做的）
23. 二叉树的层序遍历
24. 最大子数组和
25. 跳台阶，可以跳 1-n 级
26. 有序链表合并
27.  一亿个浮点数，找到最大的10000个
28. 算法: 实现一个能够完成定时任务的类
        - 使用优先级队列存储这些定时任务
            - tick() 是一个时钟函数
            - 优化: remove_task() 的复杂度是 O(n), 如何优化？
            - 不能直接用优先级队列了，得用堆；堆是用数组存储的，构造堆的时候，维护一个 Task 到数组下标的 HashMap, 那么查找 Task 的复杂度是 O(m), m 为桶长度；
            - 移除元素时，swap(i, length-1); length--; 然后swim(i)
29. 链表的区间反转
30. 白板写整型转8进制，需要运行，只能使用char数组，不能使用任何库函数，得到char数组后最后返回值可以转string
31. 快乐数
32. |x!*y-y-n|最小
    输入n，输出x，y

# 智力题/数学题

1. 找硬币 9个，有一个不知道轻重，最多几次