<!--
 * @Author: tylerytr
 * @Date: 2023-07-31 11:41:03
 * @LastEditors: tylerytr
 * @LastEditTime: 2023-08-02 13:53:39
 * @FilePath: /Interview_experience/C++基架后端/系统部分答案.md
 * Email:601576661@qq.com
 * Copyright (c) 2023 by tyleryin, All Rights Reserved. 
-->
# 系统

1. 增加CPU的数量，会对CPU密集型或IO密集型的任务性能处理有提升吗？
> CPU密集型有提升大，IO密集型提升小或没有提升
2. CPU多级缓存，为什么这么设计？
> 单级缓存无法同时做到访问速度快（需要尽可能贴近CPU）、容量大（需要占用更大的面积），用多级缓存可以利用局部性原理同时满足快速和大容量，工业实践的结果认为3级缓存比较平衡
3. 用户态和内核态区别是什么？
> 内核态/用户态本质上是CPU执行指令的特权级，内核态可以执行一些特权指令
4. 用户态和内核态切换的主要开销在哪里
> 保存寄存器（直接开销小）、检查权限、打乱执行流（间接开销小）、切换到内核栈（缓存冷，间接开销大），如果是系统调用还需要来回拷贝参数（直接开销大）
5. 什么是零拷贝？
> 通过网卡传输磁盘文件的场景，传统需要4次内存拷贝（磁盘-内核态-用户态-内核态-网卡），其中中间两次需要CPU参与（内核态-用户态-内核态）；使用mmap+write()可以消除内核态-用户态拷贝；使用sendfile()可以消除所有CPU参与的拷贝（磁盘-内核态-网卡，两次拷贝都由硬件DMA完成）
6. 同步IO和异步IO的区别，阻塞IO和非阻塞IO的区别，是否存在同步非阻塞IO？
> 同步/异步 的区别在于数据搬运 是/否 由调用IO函数的进程完成；非阻塞/阻塞 的区别在于IO未准备好时函数调用 会/不会 立即返回；同步非阻塞就是轮询

## 进程管理

1. 进程和线程区别和联系
> 教科书：进程是资源分配的基本单位，线程是调度的基本单位；Linux：线程就是轻量级进程，都用task_struct描述，线程共享虚拟内存、文件、信号等多数进程资源，但独立调度
2. Python/Java/C++里面的线程有什么不一样？
> C++线程就是系统线程，Python/Java都是虚拟机封装后的系统线程（尽管都是一对一的），Python由于有GIL所以多线程只能提升IO不能提升计算性能
3. 时间片是什么
> 操作系统调度到一个进程时，给进程分配的执行时间
4. 进程、线程、协程切换的开销分别是什么
5. 进程通信方式
6. 讲讲 fork() 函数
7. Linux 杀死进程的过程

## 内存管理

1. 操作系统页面置换算法
2. 分页机制、缺页中断、为什么有页表
3. 操作系统里面分配内存和管理内存，怎么做的

## 文件系统

1. write操作发生了什么
2. write的用户态内核态操作，数据要拷贝到内核态吗，如果突然宕机了会有没写的吗？怎么刷新缓冲区呢？这块系统调用是什么呢？
3. 讲一讲怎么看文件权限？文件权限是怎么实现的？
4. Linux 文件描述符 vs. 文件句柄

## 并发
1. 服务器多线程如何防止数据冲突
2. 什么是线程安全？设置静态变量怎么保证线程安全？
3. 死锁产生的条件；设计一种通用性算法，怎么检测一个死锁；
4. (Java) 说说ThreadLocal
5. (Java) 多线程wait notify join

## Linux 使用

1. 用 cat 和 grep 根据关键字查找日志
2. grep 查找前边的十行，用什么参数
3. 用什么工具调试内存泄漏，怎么定位？
4. Git 底层
5. 是否用过 Linux，常用命令
